<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../../../bower_components/koa-behaviors/koa-card-behavior.html">
<link rel="import" href="../../styles/default-theme.html">

<dom-module id="shadow-card">
  <template>
    <style is="custom-style" include="iron-flex">

      :host {
        background-color: var(--card-background-color, --primary-background-color);
        border-radius: 2px;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
        box-sizing: border-box;
        display: block;
        position: relative;
        margin: 10px 0;

        @apply(--card);
      }

      :host([horizontal]) {
        display: inline-block;
        background-color: var(--card-background-color, --primary-background-color);
        border-radius: 2px;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
        box-sizing: border-box;
        position: relative;
      }


      /* IE 10 support for HTML5 hidden attr */
      [hidden] {
        display: none !important;
      }

      .header {
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        overflow: hidden;
        position: relative;

        text-align: center;
        @apply(--card-header);
      }

      .header .container{
        position: relative;
        width: 100%;
        height: 100%;
      }

      .header .container iron-image {
        width: 100%;
        --iron-image-width: 100%;
        pointer-events: none;

        @apply(--card-header-image);
      }

      :host ::content .card-content {
        font-weight: normal;
        padding: 10px 10px 7px;
        position: relative;
        text-align: left;
        @apply(--card-content);
      }

      :host ::content .card-content .facebook-light{
        font-size: 16px;
        text-transform: uppercase;
        text-shadow: 2px 1px rgba(0,0,0,0.5);
      }

      :host ::content .card-content h3{
        text-shadow: 1px 1px rgba(0,0,0,0.5);
        font-weight: lighter;
      }

      :host ::content .card-actions {
        position: relative;
        @apply(--card-actions);
      }

      :host([horizontal]) .header {
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        float: left;
        position: relative;
        @apply(--layout-horizontal);
      }

      :host([horizontal]) .header iron-image {
        background-size: cover;
        --iron-image-width: 100%;
        pointer-events: none;

        @apply(--card-header-horizontal-image);
      }

      :host .container .overlap-title{
        position: absolute;
        bottom: 0;
        width: 100%;
        text-align: center;
        color: #fff;
        background: rgba(248,80,50,0);
        background: -moz-linear-gradient(top, rgba(248,80,50,0) 0%, rgba(112,112,112,0.16) 7%, rgba(0,0,0,0.8) 100%);
        background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(248,80,50,0)), color-stop(7%, rgba(112,112,112,0.16)), color-stop(100%, rgba(0,0,0,0.8)));
        background: -webkit-linear-gradient(top, rgba(248,80,50,0) 0%, rgba(112,112,112,0.16) 7%, rgba(0,0,0,0.8) 100%);
        background: -o-linear-gradient(top, rgba(248,80,50,0) 0%, rgba(112,112,112,0.16) 7%, rgba(0,0,0,0.8) 100%);
        background: -ms-linear-gradient(top, rgba(248,80,50,0) 0%, rgba(112,112,112,0.16) 7%, rgba(0,0,0,0.8) 100%);
        background: linear-gradient(to bottom, rgba(248,80,50,0) 0%, rgba(112,112,112,0.16) 7%, rgba(0,0,0,0.8) 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f85032', endColorstr='#000000', GradientType=0 );
      }

      :host .text-title{
        color: var(--primary-color);
        font-family: var(--card-header-font-family, --title-font-family);
        font-size: 18px;
        text-transform: uppercase;
        font-weight: bold;
        width: 100%;
        padding: 5px 0 5px;
      }


      :host([horizontal]) .horizontal-content {
        display: flex;
        flex-direction: row;
        align-items: flex-start;

        @apply(--card-content-container);
      }

      :host([horizontal]) iron-image{
        margin: 10px;
      }

      :host([horizontal]) .title-content{
        color: var(--primary-color, #000);
        font-family: var(--title-font-family);
        padding: 10px;
        font-weight: bold;
      }

      :host([horizontal]) ::content .card-content {
        color: var(--secondary-text-color);
        @apply(--card-horizontal-content);
      }

      :host([horizontal]) ::content .card-actions {
        @apply(--card-horizontal-actions);
      }

      :host([horizontal]) .right-content{
        justify-content:
      }

    </style>

    <!-- write your template here -->
    <div class="header">
      <template is="dom-if" if="[[ !horizontal ]]">
        <div class="container">
          <iron-image hidden$="[[!image]]" src="[[image]]" preload$="[[preloadImage]]" fade$="[[fadeImage]]"></iron-image>
          <div class="overlap-title">
            <div hidden$="[[!heading]]" class="text-title">[[heading]]</div>
            <content></content>
          </div>
        </div>
      </template>
    </div>

    <div class="horizontal-content">
      <div class="left-content">
        <template is="dom-if" if="[[ horizontal ]]">
          <iron-image style="width:230px; height:230px;" sizing="cover" class="imageContainer" hidden$="[[!image]]" src="[[image]]" preload$="[[preloadImage]]" fade$="[[fadeImage]]"></iron-image>
        </template>
      </div>
      <div class="right-content">
        <div class="title-content">
          <template is="dom-if" if="[[ horizontal ]]">
            <div hidden$="[[!heading]]">[[heading]]</div>
          </template>
        </div>
        <div class="text-content">
          <content></content>
        </div>
      </div>
    </div>
  <!-- end template -->
  </template>

  <script>
    Polymer({
      is: 'shadow-card',
      properties: {
        horizontal: {
          type: Boolean
        }
      },
      behaviors: [
        Polymer.KoaCardBehavior
      ],
      ready: function() {
        this.horizontal === undefined ? this.horizontal = false : this.horizontal = true;
      }
    });
  </script>
</dom-module>
